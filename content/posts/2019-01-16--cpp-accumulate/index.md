---
title: C++ এ accumulate() ফাংশন দিয়ে যোগফল বের করা
category: "C++"
cover: cplusplus.jpg
author: Shawon Ashraf
---


ধরুন আপনাকে একটা `array / vector<T>` দেয়া হলো । বলা হলো  `C++` এ এই `array/vector<T>` এর সব ইলিমেন্টের যোগফল বের করে দিতে হবে । আপনি কীভাবে করবেন? একটা লুপ চালাবেন অ্যারে / ভেক্টরের  এর সাইজ পর্যন্ত? আচ্ছা যদি লিস্ট থাকে অ্যারে বা ভেক্টরের জায়গায়? কিংবা কোন রেঞ্জড কালেকশন? হতে পারে কোন কাস্টম টাইপের কালেকশন । তখন কি করবেন? `C++11` এ `<numeric>`হেডার ফাইলের আন্ডারে একটা ফাংশন আছে , নাম `accumulate()` , এইটা আপনার কাজ সহজ করে দেবে । আসুন দেখা যাক কীভাবে করতে হবে!


শুরু করার আগে দেখে নিন আপনার কাছে `gcc 4.8` বা লেটেস্ট কিংবা `Microsoft C++` কম্পাইলারের লেটেস্ট ভার্শন করা আছে কিনা । না থাকলে আপডেট করে নিন । উইন্ডোজে `gcc` করতে চাইলে   `cygwin` দিয়ে করতে পারবেন <a href="https://youtu.be/XjZQVHbu5E4" target="_blank">(লিংক)</a> , আর `Microsoft C++` এর জন্য ভিজুয়াল স্টুডিও ২০১৩ / ২০১৫ /  ২০১৭ থাকলে যথেষ্ট ।

## কোড

চলুন একটা সাধারণ ইন্টিজার  অ্যারে নেই(চাইলে অন্য কিছু ও নিতে পারেন ) আর একটা খালি `vector` নেই । অ্যারে আর `vector` এ কিছু ডেটা রাখি । কোডটা এরকম দাঁড়াবে -

```cpp
#include <iostream>
#include <numeric>

using namespace std;

int main()
{
    int sum, sum_vec;
    int array[] = { 1, 56, 78, 90 };

    vector<int> vec(0, 0); // খালি ভেক্টর
    vec.push_back(23);
    vec.push_back(59);
    vec.push_back(80);

    int length = sizeof(array) / sizeof(int);
    // অ্যারে এর সাইজ বের করার জন্য

    sum = accumulate( array, array + length, 0);
    // ( স্টার্টিং পজিশন , ফাইনাল পজিশন , ইনিশিয়াল ভ্যালু )

    cout << "Sum of array is : " << sum << endl;

    sum_vec = accumulate( vec.begin(), vec.end(), 0 );
    cout << "Sum of vector is : " << sum_vec << endl;

    return 0;
}
```

## কম্পাইল + রান
কোডটা কম্পাইল করে রান করি । আপনি যদি ভিজুয়াল স্টুডিও তে কোড লিখে থাকেন, Microsoft C++ কম্পাইলার নিজে থেকেই সব করে নিবে । তবে gcc  তে কম্পাইল করাতে চাইলে খেয়াল রাখবেন যে আপনার কম্পাইল কমান্ডে C++11 এর ফ্ল্যাগ দেয়া আছে কিনা । যেমন আমার sum.cpp নামের ফাইলটাকে কম্পাইল করার জন্য কমান্ড টা এমন দেখাবে -

```bash
g++ -std=c++11 sum.cpp -o sum
```

এইবার রান করলে দেখা যাবে যোগফল এসেছে  225, 162 । আবার 1 + 56 + 78 + 90 = 225 , 23 + 59 + 80 = 162, তার মানে  আমরা যোগফল পেয়ে গেছি! কীভাবে হলো?

## অ্যাঁ! কীভাবে হলো?
accumulate() আর্গুমেন্ট হিসেবে রেঞ্জ ইটারেটর মানে যে রেঞ্জের যোগফল বের করতে হবে তার শুরু এবং শেষ ইলিমেন্টের ইটারেটর নেয় , আর সাথে নেয় যোগফলের প্রাথমিক মান । এমনো হতে পারে যে আপনার ভেরিয়েবল কোন কিছুর যোগফলের প্রাথমিক মান ০ না ধরে ৫ ধরতে পারে । তখন 0 এর জায়গায় 5  আর্গুমেন্ট হিসেবে পাস করাতে হবে ।


## ইটারেটর কি?
এখন প্রশ্ন আসে , ইটারেটর কি? সহজ ভাষায় বললে ইটারেটর পয়েন্টারের মতন কাজ করে , তবে আসলে পয়েন্টার না । ইটারেটর কোন কালেকশনের ইলিমেন্ট গুলোর রেফারেন্স স্টোর করে রাখতে পারে , তখন সে রেফারেন্স দিয়ে তাদের অ্যাক্সেস পাওয়া যায় ( অনেকটা ইনডেক্স ধরে অ্যারে থেকে ইলিমেন্ট পাওয়ার মতন ) । আমি এখানে অ্যারে এবং ভেক্টরের শুরু থেকে শেষ অবধি সব ডেটা কে রেঞ্জে নিয়ে যোগফল বের করতে দিয়েছি ।

vector এর শুরু এবং শেষ ইলিমেন্টের ইটারেটর পাওয়ার জন্য begin() এবং end() ফাংশন  C++ এ ডিফাইন করে দেয়াই আছে (<strong>অন্যান্য STL কন্টেইনার যেমন list, array এর জন্যও আছে</strong>) । কিন্তু সাধারণ C স্টাইল অ্যারে মানে আমরা যেটা এখানে লিখেছি, তার জন্য ইটারেটর আছে কি? আছে । কারণ একটা অ্যারের প্রতিটা ইলিমেন্টের নিজস্ব অ্যাড্রেস রেফারেন্স আছে । এবং পয়েন্টার ধরে সেগুলো কে সহজে অ্যাকসেস করা যায় ।

<strong>এখানে একটা ছোট্ট প্রশ্ন , array + length দিলাম কেন?</strong> একটা অ্যারে কে যদি একটা পয়েন্টার p দিয়ে পয়েন্ট করা হয় মানে p = array দেয়া হয় , পয়েন্টার p অ্যারের প্রথম ইলিমেন্ট মানে array[0] কে পয়েন্ট করবে । তাহলে এমন দাঁড়াচ্ছে ,

<strong>p + 1 হচ্ছে  array[1] ,  p + 2 হচ্ছে  array[2],  p + 3 হচ্ছে  array[3].</strong>

## এহেম এহেম ....
তাহলে , `p + 4` কি হবে? অ্যারেতে ইলিমেন্ট তো দিলাম ই ৪ টা! এটা তখন  NULL হয়ে যাবে, কারণ অ্যারে শেষ , এখানে জেনে রাখা ভালো যে যেকোন কালেকশনের টার্মিনাল রেফারেন্স NULL হয় , ভেক্টর, লিস্ট , অ্যারে কন্টেইনারের ব্যাপারেও একই কথা প্রযোজ্য  । তো accumulate() তার প্রয়োজনীয় আর্গুমেন্ট পেয়ে গেলো ! যোগফল বের করার কাজটা তাকেই করতে দিন!

```bash
Sum of array is : 225
Sum of vector is : 162
```

## কাজ শেষ!
এখন যদি কাস্টম টাইপের যোগফল বের করতে হয়? আপনি এখন জানেন কীভাবে ইটারেটর দিয়ে অ্যাকসেস করে accumulate() এ পাঠাতে হয়! পাঠিয়ে দিন! লাইব্রেরী ফাংশন বসে থাকতে নিজে লুপ ঘুরিয়ে হাবিজাবি কাবজাব করে কষ্ট করার কি দরকার?

---
 আর্টিকেলটি এর  আগে [এখানে](https://rockash93.wordpress.com/2016/01/06/c-%E0%A6%8F-accumulate-%E0%A6%AB%E0%A6%BE%E0%A6%82%E0%A6%B6%E0%A6%A8-%E0%A6%A6%E0%A6%BF%E0%A7%9F%E0%A7%87-%E0%A6%AF%E0%A7%8B%E0%A6%97%E0%A6%AB%E0%A6%B2-%E0%A6%AC%E0%A7%87%E0%A6%B0-%E0%A6%95/)  পাবলিশ করা হয়েছিলো ।


